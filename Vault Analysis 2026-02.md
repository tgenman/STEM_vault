---
created: 2026-02-23
---

# Vault Analysis — February 2026

## Текущее состояние vault: факты

| Метрика | Значение |
|---|---|
| Всего заметок | **1,457** |
| С Anki-карточками | **175 (12%)** |
| Явно без Anki (`anki: false`) | 475 |
| Без поля `anki` вообще | ~807 |
| Пустые стабы (`fix/empty`) | **390 (27%)** |
| Плейсхолдер `#обс/linking` в `connected` | **254** |
| Старый формат `links:` (не `parent`/`connected`) | **388** |
| Сироты (orphaned files) | 75 |
| Заметки с `content/definition` тегом | **9** из сотен определений |
| Заметки в inbox, некоторые с 2023 | 45 |

### Паттерн работы
Работа идёт **спринтами**: 2 мощных всплеска (Январь 2024 — 81 коммит, Май 2025 — 71 коммит), между ними месяцы по 0-6 коммитов. Основная работа — вечера выходных. Это не ежедневная привычка, а эпизодический deep work.

---

## Ключевые проблемы пайплайна

### 1. Слишком высокий порог входа для заметки

Чтобы создать "правильную" заметку, нужно:
- Заполнить 6 полей frontmatter
- Написать `> [!tip]` callout в точном формате
- Расставить wikilinks
- Создать Anki-карточки в точном формате
- Выбрать правильный TARGET DECK
- Положить в правильную папку

Это **слишком много трения** для быстрой фиксации знания. Результат — 390 пустых стабов и забитый inbox. Система создаёт долг быстрее, чем его погашает.

### 2. Всё или ничего: нет промежуточных состояний

Заметка либо "идеальная" (как Metric Space — 120 строк, 3 Anki-карточки, 8 связей), либо пустой стаб с `fix/empty`. Нет легитимного промежуточного состояния — "краткое определение в 2 строки, и это нормально".

### 3. Два несовместимых формата frontmatter

388 заметок используют старый `links:` (systems/, cs/, _meta/). 475+ используют новый `parent`/`connected`. Они не видят друг друга. Граф знаний разорван.

### 4. Система тегов мертва

`content/definition` — 9 заметок из сотен определений. `content/theorem` — 30. Остальные теги (`content/algorithm`, `content/application`, etc.) почти не используются. Зато `fix/empty` — 390 штук. Теги стали системой учёта долга, а не классификации.

### 5. Anki pipeline обрабатывает 12% vault

175 из 1,457 заметок. При этом определения для карточек **уже написаны** в callout-формате во множестве заметок — но Anki-блоки не сгенерированы.

### 6. Целые секции не интегрированы

- **thinking/** (~111 заметок) — русскоязычные эссе без wikilinks, без callouts, без Anki
- **systems/** (~131 заметка) — legacy формат, нет `parent`/`connected`
- **ml/** (~75 заметок) — почти все `fix/empty` стабы
- **cs/** (~63 заметки) — legacy формат

Качественно проработана только математика (sets, topology, optimization, combinatorics, graphs, probability).

---

## Предложения по упрощению

### A. Принять "прогрессивное развитие" заметки

Вместо бинарного "идеальная vs стаб" — признать стадии зрелости:

| Уровень | Что есть | Статус |
|---|---|---|
| 0 | Только заголовок (от wikilink) | Нормально |
| 1 | Frontmatter + 1-2 предложения определения | Нормально |
| 2 | Полный `> [!tip]` callout + связи | Хорошо |
| 3 | Anki-карточки добавлены | Отлично |
| 4 | Примеры, диаграммы, доказательства | Идеально |

Заметка уровня 1 — это **не долг**, это рабочее состояние. Это снимает давление и позволяет фиксировать знания быстро, дорабатывая позже.

### B. AI-агенты для массовых операций

Многое из текущего "долга" можно закрыть пакетно:

1. **Миграция 388 `links:` → `parent`/`connected`** — чисто механическая операция, идеально для скрипта/агента
2. **Генерация Anki-карточек** из уже существующих `> [!tip]` callout-определений — определение уже есть, нужно только обернуть в START/END блок
3. **Добавление `anki: false`** к 807 заметкам без этого поля
4. **Расстановка `content/definition`** тега по наличию `> [!tip]` callout — автоматически
5. **Замена `#обс/linking`** на реальные связи (254 заметки) — полуавтомат, AI ищет релевантные заметки

### C. Упростить обязательные поля frontmatter

Сейчас 6 полей, 3 из которых можно автоматизировать:

| Поле | Можно автоматизировать? |
|---|---|
| `aliases` | Нет, ручное |
| `parent` | Частично — можно выводить из папки |
| `connected` | Частично — можно выводить из inline wikilinks |
| `created` | **Да** — template уже подставляет дату |
| `anki` | **Да** — определяется наличием `# Anki` секции |
| `tags` | Частично — `content/definition` определяется по `> [!tip]` |

Минимальный ручной набор для быстрого создания: `aliases` + `parent`. Остальное — шаблон или автоматизация.

### D. Тегирование: упростить или убить

Два варианта:
1. **Убрать content-теги** — папки и так классифицируют тему, а тип контента (definition/theorem) виден из самой заметки. За 2+ года теги не прижились — это сигнал.
2. **Автоматически расставить** и впредь делать это скриптом — `> [!tip]` → `content/definition`, `> [!theorem]` → `content/theorem`, etc.

### E. Inbox: правило 2 недель

Если заметка в inbox больше 2 недель — либо перемести в папку (даже если она Level 1), либо удали. Homework-файлы вынести в отдельную папку (`notes/_homework/` или `archive/`).



---

# TODO

- Миграция `links:` → `parent`/`connected` (см. [Migration links Analysis](./Migration%20links%20Analysis.md))
- Миграция Anki
- Вынесение MOC из графа